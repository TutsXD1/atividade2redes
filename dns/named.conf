// Configuração BIND9 para Round Robin DNS
// Trabalho 02 - Redes

options {
    directory "/var/cache/bind";
    
    // Permitir consultas de qualquer origem (para desenvolvimento)
    allow-query { any; };
    allow-recursion { any; };
    
    // Forwarders (DNS públicos como fallback)
    forwarders {
        8.8.8.8;
        8.8.4.4;
    };
    
    // Desabilitar validação DNSSEC para simplificar
    dnssec-validation no;
    
    // Escutar em todas as interfaces
    listen-on port 53 { any; };
    listen-on-v6 { none; };
};

// Zona para meutrabalho.com.br
zone "meutrabalho.com.br" {
    type master;
    file "/etc/bind/db.meutrabalho.com.br";
    allow-update { none; };
};

// Zona reversa (opcional)
zone "20.172.in-addr.arpa" {
    type master;
    file "/etc/bind/db.20.172";
    allow-update { none; };
};

